"use strict";console.log("functions are loaded correctly");var config={apiKey:"AIzaSyDFWC9p9viBaemsqO3WLDCPE2tjCH65Ey4",authDomain:"pikoru-afa35.firebaseapp.com",databaseURL:"https://pikoru-afa35.firebaseio.com",projectId:"pikoru-afa35",storageBucket:"pikoru-afa35.appspot.com",messagingSenderId:"361342662087"};firebase.initializeApp(config);var database=firebase.database(),Scroll=function(e){var t=document.getElementById(e).getBoundingClientRect().top,n=0;if(0<t)var o=setInterval(function(){window.scrollBy(0,45),t<(n+=45)+20&&clearInterval(o)},10);else var a=setInterval(function(){window.scrollBy(0,-30),(n+=-30)<t&&clearInterval(a)},10)},onSubmit=function(e){e.preventDefault();var t=document.getElementById("email-input").value;validateEmail(t)},validateEmail=function(e){console.log("validate",e);var t=/@/.test(e);if(console.log(t),2<e.length&&t)return database.ref("emails").push(e).then(function(){showAlert("success")}).catch(function(e){console.log("error:",e.message),showAlert("error")});console.log("error with email"),showAlert("error")},showAlert=function(e){switch(e){case"success":document.getElementById("success-text").style.display="block",document.getElementById("error-text").style.display="none";break;case"error":console.log("error"),document.getElementById("error-text").style.display="block",document.getElementById("success-text").style.display="none"}},unCheck=function e(){setTimeout(function(){document.getElementById("navi-toggle").checked=!1},100),document.removeEventListener("click",e)};function hideOnClickOutside(t){var e=function(e){t.contains(e.target)||!0===document.getElementById("navi-toggle").checked&&document.addEventListener("click",unCheck)};document.addEventListener("click",e)}var lazyLoadSections=function(){document.addEventListener("DOMContentLoaded",function(){var e=[].slice.call(document.querySelectorAll(".lazy"));if("IntersectionObserver"in window){var n=new IntersectionObserver(function(e,t){e.forEach(function(e){e.isIntersecting?(e.target.classList.add("visible"),n.unobserve(e.target)):void 0===e.isIntersecting&&(e.target.classList.add("visible"),n.unobserve(e.target))})});e.forEach(function(e){n.observe(e)})}else e.forEach(function(e){e.classList.add("visible")})})},lazyLoadImages=function(){document.addEventListener("DOMContentLoaded",function(){var e=[].slice.call(document.querySelectorAll(".lazy-img"));if("IntersectionObserver"in window){var n=new IntersectionObserver(function(e,t){e.forEach(function(e){if(e.isIntersecting){var t=e.target;t.src=t.dataset.src,t.classList.remove("lazy-img"),n.unobserve(t)}})});e.forEach(function(e){n.observe(e)})}})};hideOnClickOutside(document.getElementById("nav")),lazyLoadSections(),lazyLoadImages();